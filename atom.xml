<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>赵洋的博客</title>
  
  <subtitle>既然选择了远方 便只顾风雨兼程</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-09-26T12:30:19.968Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>金毛玲</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>101计划(1)</title>
    <link href="http://yoursite.com/2019/09/26/101%E8%AE%A1%E5%88%92-1/"/>
    <id>http://yoursite.com/2019/09/26/101计划-1/</id>
    <published>2019-09-26T12:21:39.000Z</published>
    <updated>2019-09-26T12:30:19.968Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="关于shiro"><a href="#关于shiro" class="headerlink" title="关于shiro"></a>关于shiro</h2><p>Apache Shiro 是一个强大易用的 Java 安全框架，提供了认证、授权、加密和会话管理等功能，对于任何一个应用程序，Shiro 都可以提供全面的安全管理服务。并且相对于其他安全框架，Shiro 要简单的多。</p><h2 id="来自Shiro官方文档的登录流程"><a href="#来自Shiro官方文档的登录流程" class="headerlink" title="来自Shiro官方文档的登录流程"></a>来自Shiro官方文档的登录流程</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/09/26/unQMXd.jpg" alt="unQMXd.jpg" title>                </div>                <div class="image-caption">unQMXd.jpg</div>            </figure><h3 id="创建令牌-Token"><a href="#创建令牌-Token" class="headerlink" title="创建令牌(Token)"></a>创建令牌(Token)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UsernamePasswordToken token = new UsernamePasswordToken(&quot;zy&quot;,&quot;123&quot;);</span><br></pre></td></tr></table></figure><h3 id="执行登录"><a href="#执行登录" class="headerlink" title="执行登录"></a>执行登录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//构建 SecurityManager 环境</span><br><span class="line">    DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();</span><br><span class="line"></span><br><span class="line">    //为 SecurityManager 设置 Realm</span><br><span class="line">    defaultSecurityManager.setRealm(simpleAccountRealm);</span><br><span class="line"></span><br><span class="line">    // 将 SecurityManager 放入 SecurityUtils 这个工具类中</span><br><span class="line">    SecurityUtils.setSecurityManager(defaultSecurityManager);</span><br><span class="line"></span><br><span class="line">    // 获取一个 Subject</span><br><span class="line">    Subject subject = SecurityUtils.getSubject();</span><br><span class="line">    </span><br><span class="line">    //测试登录</span><br><span class="line">    subject.login(token);</span><br></pre></td></tr></table></figure><p>Shiro的核心部分是<strong>SecurityManager</strong>,它负责安全认证与授权.Shiro本身已经实现了所有的细节,用户可以完全把它当做一个黑盒来使用<strong>SecurityUtils</strong>对象.</p><p>本质上就是一个工厂类似Spring中的ApplicationContext,也可以理解成springMVC中的DispatcherServlet.</p><p>Shiro对用户的约束也采用了这样的方式.<strong>AuthenticationInfo</strong>代表了用户的角色信息集合,<strong>AuthorizationInfo</strong>代表了角色的权限信息集合</p><h2 id="什么是Realm"><a href="#什么是Realm" class="headerlink" title="什么是Realm?"></a>什么是Realm?</h2><p>根据 Realm 文档上的解释，Realms 担当 Shiro 和你的应用程序的安全数据之间的“桥梁”或“连接器”。当它实际上与安全相关的数据如用来执行身份验证（登录）及授权（访问控制）的用户帐户交互时，Shiro 从一个或多个为应用程序配置的 Realm 中寻找许多这样的东西</p><p><strong>(PS:当配置 Shiro 时，你必须指定至少一个 Realm 用来进行身份验证和/或授权。SecurityManager 可能配置多个 Realms，但至少有一个是必须的)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Realm realm = new IniRealm(&quot;classpath:shiro.ini&quot;);</span><br><span class="line"></span><br><span class="line">defaultSecurityManager.setRealm(realm);</span><br></pre></td></tr></table></figure><h3 id="缓存机制"><a href="#缓存机制" class="headerlink" title="缓存机制"></a>缓存机制</h3><p>Ehcache是大多数Java项目使用的缓存框架.</p><p>它的本质就是将原本只能存储在内存中的数据通过算法保存到硬盘上，再根据需求依次取出.可以理解为<strong>Map&lt;String,Object&gt;对象</strong> put保存对象,get取出对象.</p><h3 id="散列算法和加密算法"><a href="#散列算法和加密算法" class="headerlink" title="散列算法和加密算法"></a>散列算法和加密算法</h3><p>md5是属于散列算法,散列算法是一个单向的过程,无法还原.</p><p>而加密算法是可以通过密钥解密和还原的.</p><h3 id="iniRealm"><a href="#iniRealm" class="headerlink" title="iniRealm"></a>iniRealm</h3><p>IniRealm 顾名思义，即通过读取<strong>ini</strong>文件来获取用户，角色，权限信息。</p><p>配置用户名/密码及其角色, 格式: “用户名=密码，角色1，角色2”，如:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[users]</span><br><span class="line">zy = 123 , admin</span><br><span class="line">guest = 1 , user</span><br></pre></td></tr></table></figure><p>配置角色与权限的关系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[roles]</span><br><span class="line">admin = user:delete</span><br><span class="line">user = user:select</span><br></pre></td></tr></table></figure><h3 id="jdbcRealm"><a href="#jdbcRealm" class="headerlink" title="jdbcRealm"></a>jdbcRealm</h3><p>JdbcRelam 顾名思义，即通过通过访问数据库来获取用户，角色，权限信息。</p><p>首先需要导入 mysql 的驱动包和 druid 数据库连接池的包:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">     &lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">     &lt;version&gt;1.1.16&lt;/version&gt;</span><br><span class="line">   &lt;/dependency&gt;</span><br><span class="line">   &lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">     &lt;version&gt;5.1.47&lt;/version&gt;</span><br><span class="line">   &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>初始化DataSource</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">dataSource.setUrl(&quot;jdbc:mysql://127.0.0.1:3306/shiro&quot;);</span><br><span class="line">dataSource.setUsername(&quot;root&quot;);</span><br><span class="line">dataSource.setPassword(&quot;root&quot;);</span><br></pre></td></tr></table></figure><p>构建JdbcRealm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 构建 JdbcRelam</span><br><span class="line">JdbcRealm jdbcRealm = new JdbcRealm();</span><br><span class="line">// 为 JdbcRelam 设置数据源</span><br><span class="line">jdbcRealm.setDataSource(dataSource);</span><br><span class="line">// 设置启用权限查询, 默认为 false</span><br><span class="line">jdbcRealm.setPermissionsLookupEnabled(true);</span><br></pre></td></tr></table></figure><p><strong>因为JdbcRealm的源码中内置了默认的角色权限查询SQL语句</strong>如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected static final String DEFAULT_AUTHENTICATION_QUERY = &quot;select password from users where username = ?&quot;;</span><br><span class="line">protected static final String DEFAULT_SALTED_AUTHENTICATION_QUERY = &quot;select password, password_salt from users where username = ?&quot;;</span><br><span class="line">protected static final String DEFAULT_USER_ROLES_QUERY = &quot;select role_name from user_roles where username = ?&quot;;</span><br><span class="line">protected static final String DEFAULT_PERMISSIONS_QUERY = &quot;select permission from roles_permissions where role_name = ?&quot;;</span><br></pre></td></tr></table></figure><p>所以我们在实际开发中,按照自己的表结构来修改JdbcRealm的默认查询语句来实现</p><h3 id="自定义Realm"><a href="#自定义Realm" class="headerlink" title="自定义Realm"></a>自定义Realm</h3><p>在真实项目开发中，我们往往会使用自定义 Realm 来实现一些自定义的功能，如判断账号锁定，账号登陆次数限制等。</p><p>我们需要创建一个类来继承<strong>AuthorizingRealm</strong>，并实现其抽象方法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 根据用户凭证查询所用拥有的角色和权限</span><br><span class="line"> * @param principalCollection 用户凭证</span><br><span class="line"> * @return 返回授权信息，包含所拥有的角色和权限</span><br><span class="line"> */</span><br><span class="line">@Override</span><br><span class="line">protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123;</span><br><span class="line">    String username = (String)principalCollection.getPrimaryPrincipal();</span><br><span class="line"></span><br><span class="line">    SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo();</span><br><span class="line"></span><br><span class="line">    // 根据用户名其所拥有的角色和权限</span><br><span class="line">    Set&lt;String&gt; roles = selectRolesByUserName(username);</span><br><span class="line">    Set&lt;String&gt; permissions = selectPermissionsByUserName(username);</span><br><span class="line"></span><br><span class="line">    authorizationInfo.setRoles(roles);</span><br><span class="line">    authorizationInfo.setStringPermissions(permissions);</span><br><span class="line">    return authorizationInfo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 根据用户提交的凭证查询是否具有这个用户 (这里不判断密码是否正确)</span><br><span class="line"> * @param authenticationToken 用户凭证 (账户密码)</span><br><span class="line"> * @return 相应的用户信息</span><br><span class="line"> * @throws AuthenticationException 当用户不存在或具备其他状态, 如被锁定, 等状态会抛出相应的异常</span><br><span class="line"> */</span><br><span class="line">@Override</span><br><span class="line">protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException &#123;</span><br><span class="line"></span><br><span class="line">    // 这个方法也可以使用 DAO 层的方法来查询数据库，返回 user 对象。</span><br><span class="line">    User user = selectUserByUserName((String) authenticationToken.getPrincipal());</span><br><span class="line"></span><br><span class="line">    if (user == null) &#123;</span><br><span class="line">        throw new UnknownAccountException(&quot;账号不存在&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return new SimpleAuthenticationInfo(user.getUsername(), user.getPassword(), super.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
    
      <category term="101计划" scheme="http://yoursite.com/tags/101%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>101计划(0)</title>
    <link href="http://yoursite.com/2019/09/25/101%E8%AE%A1%E5%88%92-0/"/>
    <id>http://yoursite.com/2019/09/25/101计划-0/</id>
    <published>2019-09-25T13:43:56.000Z</published>
    <updated>2019-09-25T13:48:12.492Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="101计划"><a href="#101计划" class="headerlink" title="101计划"></a>101计划</h2><p>何为101计划?</p><p>连续 <strong>100</strong> 天每天完成<strong>1</strong>小时的编程学习(训练)<br>目标就是关于springboot的学习以及相关的中间件!</p><p>该idea是来自于我姐!她在大学本科也是每天1小时编程连续100天  </p><p>我觉得成功还是源于自觉 源于努力.</p><p>每天的学习不在多 而在于能够好好消化它!</p><p>送给自己的一句话:</p><p>既然选择了远方便只顾风雨兼程.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
    
      <category term="101计划" scheme="http://yoursite.com/tags/101%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>Springboot整合Thymeleaf</title>
    <link href="http://yoursite.com/2019/09/03/Springboot%E6%95%B4%E5%90%88Thymeleaf/"/>
    <id>http://yoursite.com/2019/09/03/Springboot整合Thymeleaf/</id>
    <published>2019-09-03T07:58:31.000Z</published>
    <updated>2019-09-03T08:03:28.857Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="thymeleaf的介绍"><a href="#thymeleaf的介绍" class="headerlink" title="thymeleaf的介绍"></a>thymeleaf的介绍</h2><p>Thymeleaf 介绍<br>Thymeleaf 是一款用于渲染 XML/XHTML/HTML5 内容的模板引擎。类似 JSP，Velocity，FreeMaker 等，它也可以轻易的与 Spring MVC 等 Web 框架进行集成作为 Web 应用的模板引擎。与其它模板引擎相比，Thymeleaf 最大的特点是能够直接在浏览器中打开并正确显示模板页面，而不需要启动整个 Web 应用。</p><p>好了，你们说了我们已经习惯使用了什么 Velocity,FreMaker，beetle之类的模版，那么到底好在哪里呢？</p><p>比一比吧</p><p>Thymeleaf 是与众不同的，因为它使用了自然的模板技术。这意味着 Thymeleaf 的模板语法并不会破坏文档的结构，模板依旧是有效的XML文档。模板还可以用作工作原型，Thymeleaf 会在运行期替换掉静态值。Velocity 与 FreeMarke r则是连续的文本处理器。 下面的代码示例分别使用 Velocity、FreeMarker 与 Thymeleaf 打印出一条消息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Velocity: &lt;p&gt;$message&lt;/p&gt;</span><br><span class="line">FreeMarker: &lt;p&gt;$&#123;message&#125;&lt;/p&gt;</span><br><span class="line">Thymeleaf: &lt;p th:text=&quot;$&#123;message&#125;&quot;&gt;Hello World!&lt;/p&gt;</span><br></pre></td></tr></table></figure><p>注意，由于 Thymeleaf 使用了 <code>XML DOM</code> 解析器，因此它并不适合于处理大规模的 XML 文件。</p><h2 id="添加Jar包"><a href="#添加Jar包" class="headerlink" title="添加Jar包"></a>添加Jar包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- thymelaef模板 --&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id="添加配置文件"><a href="#添加配置文件" class="headerlink" title="添加配置文件"></a>添加配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#Thymeleaf配置</span><br><span class="line"></span><br><span class="line">#开发时关闭缓存,不然没法看到实时页面</span><br><span class="line">spring.thymeleaf.cache=false</span><br><span class="line">spring.thymeleaf.check-template=true</span><br><span class="line"># 模板模式设置，默认为HTML5</span><br><span class="line">spring.thymeleaf.mode=HTML5</span><br><span class="line">spring.thymeleaf.check-template-location=true</span><br><span class="line">spring.thymeleaf.encoding=UTF-8</span><br><span class="line">spring.thymeleaf.prefix=classpath:/templates/</span><br><span class="line">spring.thymeleaf.servlet.content-type=text/html</span><br><span class="line">spring.thymeleaf.suffix=.html</span><br></pre></td></tr></table></figure><h2 id="模板中引入thymeleaf"><a href="#模板中引入thymeleaf" class="headerlink" title="模板中引入thymeleaf"></a>模板中引入thymeleaf</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br></pre></td></tr></table></figure><h2 id="thymeleaf部分语法"><a href="#thymeleaf部分语法" class="headerlink" title="thymeleaf部分语法"></a>thymeleaf部分语法</h2><p>URL<br>URL 在 Web 应用模板中占据着十分重要的地位，需要特别注意的是 Thymeleaf 对于 URL 的处理是通过语法 @{…} 来处理的。Thymeleaf 支持绝对路径 URL：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a th:href=&quot;@&#123;http://www.thymeleaf.org&#125;&quot;&gt;Thymeleaf&lt;/a&gt;</span><br></pre></td></tr></table></figure><p>条件求值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a th:href=&quot;@&#123;/login&#125;&quot; th:unless=$&#123;session.user != null&#125;&gt;Login&lt;/a&gt;</span><br></pre></td></tr></table></figure><p>for循环</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;tr th:each=&quot;prod : $&#123;prods&#125;&quot;&gt;</span><br><span class="line">      &lt;td th:text=&quot;$&#123;prod.name&#125;&quot;&gt;Onions&lt;/td&gt;</span><br><span class="line">      &lt;td th:text=&quot;$&#123;prod.price&#125;&quot;&gt;2.41&lt;/td&gt;</span><br><span class="line">      &lt;td th:text=&quot;$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;&quot;&gt;yes&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br></pre></td></tr></table></figure><h2 id="thymeleaf中文文档"><a href="#thymeleaf中文文档" class="headerlink" title="thymeleaf中文文档"></a>thymeleaf中文文档</h2><p><a href="https://blog.csdn.net/zhangcc233/article/details/80831056" target="_blank" rel="noopener">Thymeleaf中文文档</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
      <category term="java" scheme="http://yoursite.com/categories/study/java/"/>
    
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
      <category term="Thymeleaf" scheme="http://yoursite.com/tags/Thymeleaf/"/>
    
  </entry>
  
  <entry>
    <title>Springboot整合Jpa</title>
    <link href="http://yoursite.com/2019/09/01/Springboot%E6%95%B4%E5%90%88Jpa/"/>
    <id>http://yoursite.com/2019/09/01/Springboot整合Jpa/</id>
    <published>2019-09-01T07:58:42.000Z</published>
    <updated>2019-09-01T08:14:59.564Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="添加jar包"><a href="#添加jar包" class="headerlink" title="添加jar包"></a>添加jar包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id="添加配置文件"><a href="#添加配置文件" class="headerlink" title="添加配置文件"></a>添加配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/test</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=123456</span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line">spring.jpa.properties.hibernate.hbm2ddl.auto=update</span><br><span class="line">spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect</span><br><span class="line">spring.jpa.show-sql= true</span><br></pre></td></tr></table></figure><p><strong>spring.jpa.properties.hibernate.hbm2ddl.auto</strong>这个参数的作用在于:自动创建,更新,验证数据库表的结构<br>有以下是四个值:</p><p>1 create： 每次加载 hibernate 时都会删除上一次的生成的表，然后根据你的 model 类再重新来生成新表，哪怕两次没有任何改变也要这样执行，这就是导致数据库表数据丢失的一个重要原因。</p><p>2 create-drop ：每次加载 hibernate 时根据 model 类生成表，但是 sessionFactory 一关闭,表就自动删除。</p><p>3 update：最常用的属性，第一次加载 hibernate 时根据 model 类会自动建立起表的结构（前提是先建立好数据库），以后加载 hibernate 时根据 model 类自动更新表结构，即使表结构改变了但表中的行仍然存在不会删除以前的行。要注意的是当部署到服务器后，表结构是不会被马上建立起来的，是要等 应用第一次运行起来后才会。</p><p>4 validate ：每次加载 hibernate 时，验证创建数据库表结构，只会和数据库中的表进行比较，不会创建新表，但是会插入新值。</p><p><strong>dialect</strong>主要是指定生成表名的存储引擎为InnoDBD</p><p><strong>show-sql</strong>是否打印出自动生成的SQL,方便调试的时候查看</p><h2 id="添加实体类"><a href="#添加实体类" class="headerlink" title="添加实体类"></a>添加实体类</h2><p>与数据表进行映射,并且配置好映射关系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">@Data</span><br><span class="line">@AllArgsConstructor</span><br><span class="line">@NoArgsConstructor</span><br><span class="line">public class User implements Serializable &#123;</span><br><span class="line">    private static final long serialVersionUID = 1L;</span><br><span class="line">    @Id //设置主键</span><br><span class="line">    @GeneratedValue //id自增</span><br><span class="line">    private Long id;</span><br><span class="line"></span><br><span class="line">    @Column(nullable = false,unique = true) //用户名不为空且唯一</span><br><span class="line">    private String userName;</span><br><span class="line"></span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String passWord;</span><br><span class="line"></span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String email;</span><br><span class="line"></span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String nickName;</span><br><span class="line"></span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String regTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="设置DAO层"><a href="#设置DAO层" class="headerlink" title="设置DAO层"></a>设置DAO层</h2><p>dao 只要继承 JpaRepository 类就可以，几乎可以不用写方法，还有一个特别有尿性的功能非常赞，就是可以根据方法名来自动的生成 SQL，比如<strong>findByUserName</strong> 会自动生成一个以 <strong>userName</strong> 为参数的查询方法，比如 findAlll 自动会查询表里面的所有数据，比如自动分页等等。。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Repository</span><br><span class="line">public interface UserRepository extends JpaRepository&lt;User,Long&gt; &#123;</span><br><span class="line"></span><br><span class="line">    User findByUserName(String userName);</span><br><span class="line"></span><br><span class="line">    User findByUserNameAndPassWord(String userName,String password);</span><br><span class="line"></span><br><span class="line">    User findByUserNameOrEmail(String userName,String Email);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="添加Service层"><a href="#添加Service层" class="headerlink" title="添加Service层"></a>添加Service层</h2><p>UserService.java</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">public interface UserService &#123;</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 功能描述: 添加用户</span><br><span class="line">     *</span><br><span class="line">     * @param: user</span><br><span class="line">     * @return: User</span><br><span class="line">     * @auther: zy</span><br><span class="line">     * @date: 2019/9/1 15:05</span><br><span class="line">     */</span><br><span class="line">    User saveUser(User user);</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 功能描述: 删除用户</span><br><span class="line">     *</span><br><span class="line">     * @param: id</span><br><span class="line">     * @return: void</span><br><span class="line">     * @auther: zy</span><br><span class="line">     * @date: 2019/9/1 15:06</span><br><span class="line">     */</span><br><span class="line">    void removeUser(Long id);</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 功能描述: 更新用户信息</span><br><span class="line">     *</span><br><span class="line">     * @param: user</span><br><span class="line">     * @return: User</span><br><span class="line">     * @auther: zy</span><br><span class="line">     * @date: 2019/9/1 15:06</span><br><span class="line">     */</span><br><span class="line">    User updateUser(User user);</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 功能描述: 通过id得到用户</span><br><span class="line">     *</span><br><span class="line">     * @param: id</span><br><span class="line">     * @return: User</span><br><span class="line">     * @auther: zy</span><br><span class="line">     * @date: 2019/9/1 15:06</span><br><span class="line">     */</span><br><span class="line">    User getUserByNameAndPassword(String userName,String passWord);</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 功能描述: 得到所有用户信息</span><br><span class="line">     *</span><br><span class="line">     * @param: null</span><br><span class="line">     * @return: List&lt;User&gt;</span><br><span class="line">     * @auther: zy</span><br><span class="line">     * @date: 2019/9/1 15:07</span><br><span class="line">     */</span><br><span class="line">    List&lt;User&gt; getAllUsers();</span><br></pre></td></tr></table></figure><p>UserServiceImpl.java</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public User saveUser(User user) &#123;</span><br><span class="line">        return userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void removeUser(Long id) &#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public User updateUser(User user) &#123;</span><br><span class="line">        return userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public User getUserByNameAndPassword(String userName, String passWord) &#123;</span><br><span class="line">        return userRepository.findByUserNameAndPassWord(userName,passWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;User&gt; getAllUsers() &#123;</span><br><span class="line">        return userRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="控制层-Controller"><a href="#控制层-Controller" class="headerlink" title="控制层(Controller)"></a>控制层(Controller)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class HelloController &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    UserService userService;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/users&quot;)</span><br><span class="line">    public User getUser()&#123;</span><br><span class="line">        // 获取当前时间</span><br><span class="line">        Date date = new Date();</span><br><span class="line"></span><br><span class="line">        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br><span class="line"></span><br><span class="line">        String time = dateFormat.format(date);</span><br><span class="line"></span><br><span class="line">        User user = new User(1L,&quot;zzy001&quot;,&quot;f695112338&quot;,&quot;zyf695112338@qq.com&quot;,&quot;金毛玲&quot;,time);</span><br><span class="line"></span><br><span class="line">        userService.saveUser(user);</span><br><span class="line"></span><br><span class="line">        return user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Demo结果"><a href="#Demo结果" class="headerlink" title="Demo结果"></a>Demo结果</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="C:\Users\zyvictor\Desktop\截图\Springboot-hello-demo.jpg" alt="demo" title>                </div>                <div class="image-caption">demo</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
      <category term="java" scheme="http://yoursite.com/categories/study/java/"/>
    
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
      <category term="JPA" scheme="http://yoursite.com/tags/JPA/"/>
    
  </entry>
  
  <entry>
    <title>Mybatis--jdbcType报错</title>
    <link href="http://yoursite.com/2019/08/12/BuilderException-%20Error%20resolving%20JdbcType/"/>
    <id>http://yoursite.com/2019/08/12/BuilderException- Error resolving JdbcType/</id>
    <published>2019-08-12T08:14:25.000Z</published>
    <updated>2019-08-12T08:14:53.294Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>启动tomcat的时候报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">` Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving JdbcType. Cause: java.lang.IllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.DATATIME</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:120)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:92)</span><br><span class="line">at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:521)</span><br><span class="line">... 84 more</span><br><span class="line">Caused by: org.apache.ibatis.builder.BuilderException: Error resolving JdbcType. Cause: java.lang.IllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.DATATIME</span><br><span class="line">at org.apache.ibatis.builder.BaseBuilder.resolveJdbcType(BaseBuilder.java:73)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(XMLMapperBuilder.java:382)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:280)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:252)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:244)</span><br><span class="line">at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:116)</span><br><span class="line">... 86 more</span><br><span class="line">Caused by: java.lang.IllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.DATATIME</span><br><span class="line">at java.lang.Enum.valueOf(Enum.java:238)</span><br><span class="line">at org.apache.ibatis.type.JdbcType.valueOf(JdbcType.java:25)</span><br><span class="line">at org.apache.ibatis.builder.BaseBuilder.resolveJdbcType(BaseBuilder.java:71)</span><br><span class="line">... 91 more</span><br><span class="line">`</span><br></pre></td></tr></table></figure><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>看报错的原因,是因为我在resultmap中jdbcType写了datatime,而在mybatis中是这个数据类型的</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>修改resultmap中的jdbcType即可</p><h2 id="Tip"><a href="#Tip" class="headerlink" title="Tip"></a>Tip</h2><p>我去网上查看了源码,发现mybatis的jdbcType是一个枚举类,有以下类型:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">public enum JdbcType &#123;</span><br><span class="line">    ARRAY(2003),</span><br><span class="line">    BIT(-7),</span><br><span class="line">    TINYINT(-6),</span><br><span class="line">    SMALLINT(5),</span><br><span class="line">    INTEGER(4),</span><br><span class="line">    BIGINT(-5),</span><br><span class="line">    FLOAT(6),</span><br><span class="line">    REAL(7),</span><br><span class="line">    DOUBLE(8),</span><br><span class="line">    NUMERIC(2),</span><br><span class="line">    DECIMAL(3),</span><br><span class="line">    CHAR(1),</span><br><span class="line">    VARCHAR(12),</span><br><span class="line">    LONGVARCHAR(-1),</span><br><span class="line">    DATE(91),</span><br><span class="line">    TIME(92),</span><br><span class="line">    TIMESTAMP(93),</span><br><span class="line">    BINARY(-2),</span><br><span class="line">    VARBINARY(-3),</span><br><span class="line">    LONGVARBINARY(-4),</span><br><span class="line">    NULL(0),</span><br><span class="line">    OTHER(1111),</span><br><span class="line">    BLOB(2004),</span><br><span class="line">    CLOB(2005),</span><br><span class="line">    BOOLEAN(16),</span><br><span class="line">    CURSOR(-10),</span><br><span class="line">    UNDEFINED(-2147482648),</span><br><span class="line">    NVARCHAR(-9),</span><br><span class="line">    NCHAR(-15),</span><br><span class="line">    NCLOB(2011),</span><br><span class="line">    STRUCT(2002),</span><br><span class="line">    JAVA_OBJECT(2000),</span><br><span class="line">    DISTINCT(2001),</span><br><span class="line">    REF(2006),</span><br><span class="line">    DATALINK(70),</span><br><span class="line">    ROWID(-8),</span><br><span class="line">    LONGNVARCHAR(-16),</span><br><span class="line">    SQLXML(2009),</span><br><span class="line">    DATETIMEOFFSET(-155);</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>希望以后自己能越过这个坎,多长记性.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
      <category term="java" scheme="http://yoursite.com/categories/study/java/"/>
    
    
      <category term="Mybatis" scheme="http://yoursite.com/tags/Mybatis/"/>
    
  </entry>
  
  <entry>
    <title>idea--target不同步问题</title>
    <link href="http://yoursite.com/2019/08/09/%E5%85%B3%E4%BA%8Eidea%E4%B8%ADtarget%E4%B8%8D%E5%90%8C%E6%AD%A5%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/08/09/关于idea中target不同步的问题/</id>
    <published>2019-08-09T11:15:25.000Z</published>
    <updated>2019-08-12T08:15:57.645Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="问题所在"><a href="#问题所在" class="headerlink" title="问题所在"></a>问题所在</h3><p>ssm小项目中,加入了新的css文件和js文件,然后重启项目,发现并没有效果.然鹅在页面中也及时的引用了相关的css和js文件.</p><h3 id="分析原因"><a href="#分析原因" class="headerlink" title="分析原因"></a>分析原因</h3><p>我使用的idea编译器,发现target文件中并没有相关的css和js文件,导致我在页面中引入了等同于没有引用,所以导致页面没有相关的效果.</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>先清理项目中的target目录,然后再rebuild项目即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//清理target目录</span><br><span class="line">mvn clean package</span><br></pre></td></tr></table></figure><p>然后rebuild项目(<code>快捷键Ctrl+Shift+F9</code>)</p><p>解决问题ok拉!!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
    
      <category term="idea" scheme="http://yoursite.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>学习笔记:Mybatis-PageHelper</title>
    <link href="http://yoursite.com/2019/07/17/Mybatis%E4%B9%8BPagehelper/"/>
    <id>http://yoursite.com/2019/07/17/Mybatis之Pagehelper/</id>
    <published>2019-07-17T12:04:14.000Z</published>
    <updated>2019-07-17T15:01:53.056Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h3 id="Mybatis为我们提供了非常优秀的分页插件PageHelper该插件支持任何复杂的单表或者是多表-PageHelper实现了通用的分页查询-支持的数据有mysql-Oracle-DB2-PostgreSQL等"><a href="#Mybatis为我们提供了非常优秀的分页插件PageHelper该插件支持任何复杂的单表或者是多表-PageHelper实现了通用的分页查询-支持的数据有mysql-Oracle-DB2-PostgreSQL等" class="headerlink" title="Mybatis为我们提供了非常优秀的分页插件PageHelper该插件支持任何复杂的单表或者是多表. PageHelper实现了通用的分页查询,支持的数据有mysql,Oracle,DB2,PostgreSQL等"></a>Mybatis为我们提供了非常优秀的分页插件PageHelper该插件支持任何复杂的单表或者是多表. PageHelper实现了通用的分页查询,支持的数据有mysql,Oracle,DB2,PostgreSQL等</h3><h3 id="该插件托管于github-https-github-com-pagehelper-Mybatis-PageHelper"><a href="#该插件托管于github-https-github-com-pagehelper-Mybatis-PageHelper" class="headerlink" title="该插件托管于github: https://github.com/pagehelper/Mybatis-PageHelper"></a>该插件托管于github: <a href="https://github.com/pagehelper/Mybatis-PageHelper" target="_blank" rel="noopener">https://github.com/pagehelper/Mybatis-PageHelper</a></h3><h1 id="如何使用PageHelper"><a href="#如何使用PageHelper" class="headerlink" title="如何使用PageHelper"></a>如何使用PageHelper</h1><h3 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h3><h4 id="使用maven导入"><a href="#使用maven导入" class="headerlink" title="- 使用maven导入"></a>- 使用maven导入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.4.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;0.9.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h4><pre><code>1). 你可以从下面的地址中下载最新版本的 jar 包https://oss.sonatype.org/content/repositories/releases/com/github/pagehelper/pagehelper/http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/2). 由于使用了sql 解析工具，你还需要下载 jsqlparser.jar：http://repo1.maven.org/maven2/com/github/jsqlparser/jsqlparser/0.9.5/</code></pre><h3 id="配置拦截器插件"><a href="#配置拦截器插件" class="headerlink" title="配置拦截器插件"></a>配置拦截器插件</h3><p>特别注意，新版拦截器是 <strong>com.github.pagehelper.PageInterceptor</strong></p><p><strong>com.github.pagehelper.PageHelper</strong> 现在是一个特殊的 dialect 实现类，是分页插件的默认实现类，提供了和以前相同的用法。</p><h4 id="在Mybatis配置xml中配置拦截器插件"><a href="#在Mybatis配置xml中配置拦截器插件" class="headerlink" title="在Mybatis配置xml中配置拦截器插件"></a>在Mybatis配置xml中配置拦截器插件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;plugins&gt;</span><br><span class="line">        &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;</span><br><span class="line">            &lt;!--分页参数合理化  --&gt;</span><br><span class="line">            &lt;property name=&quot;reasonable&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br></pre></td></tr></table></figure><h4 id="在Spring配置文件中配置拦截器插件"><a href="#在Spring配置文件中配置拦截器插件" class="headerlink" title="在Spring配置文件中配置拦截器插件"></a>在Spring配置文件中配置拦截器插件</h4><p>使用 spring 的属性配置方式，可以使用 <strong>plugins</strong> 属性像下面这样配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</span><br><span class="line">  &lt;!-- 注意其他配置 --&gt;</span><br><span class="line">  &lt;property name=&quot;plugins&quot;&gt;</span><br><span class="line">    &lt;array&gt;</span><br><span class="line">      &lt;bean class=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;properties&quot;&gt;</span><br><span class="line">          &lt;!--使用下面的方式配置参数，一行配置一个 --&gt;</span><br><span class="line">          &lt;value&gt;</span><br><span class="line">            params=value1</span><br><span class="line">          &lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">      &lt;/bean&gt;</span><br><span class="line">    &lt;/array&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p>确确实实去配置文件会让人显得很郁闷也很头疼.</p><p>所以我一般参照官方文档去配置,里面不仅有分页插件的参数介绍还有常用的配置参数,不同的场景需要配置不同的参数.</p><p><a href="https://pagehelper.github.io/docs/howtouse/" target="_blank" rel="noopener">参考PageHelper官方文档</a></p><h3 id="DAO层"><a href="#DAO层" class="headerlink" title="DAO层"></a>DAO层</h3><p>在我做的demo中,我是获取所有部门然后在使用分页插件进行物理分页.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface DepartmentMapper &#123;</span><br><span class="line"> //获取所有部门</span><br><span class="line">    List&lt;Department&gt; getAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Service层"><a href="#Service层" class="headerlink" title="Service层"></a>Service层</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface DepartmentService &#123;</span><br><span class="line">//查询所有</span><br><span class="line">    List&lt;Department&gt; getAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现相应的接口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class DepartmentServiceImpl implements DepartmentService &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    DepartmentMapper departmentMapper;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;Department&gt; getAll() &#123;</span><br><span class="line">        return departmentMapper.getAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Controller层"><a href="#Controller层" class="headerlink" title="Controller层"></a>Controller层</h3><p>在控制器中,是跳转到部门的页面的时候将数据查询到然后使用PageHelper</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @project : HRM</span><br><span class="line"> * @description : 控制器-首页管理</span><br><span class="line"> * @author : zy</span><br><span class="line"> */</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;main&quot;)</span><br><span class="line">public class MainController &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    UserService userService;</span><br><span class="line">    @Autowired</span><br><span class="line">    DepartmentService departmentService;</span><br><span class="line">    @Autowired</span><br><span class="line">    EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line">     /**</span><br><span class="line">     * @decription 查询所有部门信息并跳转到部门信息页面(分页查询)</span><br><span class="line">     * @param model</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @RequestMapping(&quot;toDepartmentList.html&quot;)</span><br><span class="line">    public String toDepartmentList(@RequestParam(value = &quot;pn&quot;, defaultValue = &quot;1&quot;) Integer pn, Model model)&#123;</span><br><span class="line">        //pn为当前页码,每页的大小为5</span><br><span class="line">        PageHelper.startPage(pn,5);</span><br><span class="line">        List&lt;Department&gt; departmentList = departmentService.getAll();</span><br><span class="line">        //导航栏最多为5页</span><br><span class="line">        PageInfo pageInfo = new PageInfo(departmentList,5);</span><br><span class="line">        model.addAttribute(&quot;pageInfo&quot;,pageInfo);</span><br><span class="line">        return &quot;Dep/DepartmentList&quot;;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使用PageHelper的静态方法-PageHelper-startPage-currentPage-PageSize"><a href="#使用PageHelper的静态方法-PageHelper-startPage-currentPage-PageSize" class="headerlink" title="使用PageHelper的静态方法:PageHelper.startPage(currentPage,PageSize)"></a>使用PageHelper的静态方法:PageHelper.startPage(currentPage,PageSize)</h4><p>(<strong>currentPage</strong>是指的当前页数<br><strong>PageSize</strong>是指的是每页的大小)</p><h4 id="使用PageInfo对象"><a href="#使用PageInfo对象" class="headerlink" title="使用PageInfo对象"></a>使用PageInfo对象</h4><p>在使用PageHelper.start后,我们可以使用PageInfo进行封装,可以从PageInfo中获得更多的信息,比如:当前页码,最后页码等等(详情<strong>5.3</strong>)</p><p>这里使用进行了分页封装,departmentList实际上是一个代理对象.<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PageInfo pageInfo = new PageInfo(departmentList,5);</span><br></pre></td></tr></table></figure></p><h4 id="PageInfo的属性参数-成员变量"><a href="#PageInfo的属性参数-成员变量" class="headerlink" title="PageInfo的属性参数,成员变量"></a>PageInfo的属性参数,成员变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">//当前页</span><br><span class="line">private int pageNum;</span><br><span class="line"> </span><br><span class="line">//每页的数量</span><br><span class="line">private int pageSize;</span><br><span class="line"> </span><br><span class="line">//当前页的数量</span><br><span class="line">private int size;</span><br><span class="line"></span><br><span class="line">//总记录数</span><br><span class="line">private long total;</span><br><span class="line"> </span><br><span class="line">//总页数</span><br><span class="line">private int pages;</span><br><span class="line"> </span><br><span class="line">//结果集(每页显示的数据)</span><br><span class="line">private List&lt;T&gt; list;</span><br><span class="line"> </span><br><span class="line">//第一页</span><br><span class="line">private int firstPage;</span><br><span class="line"> </span><br><span class="line">//前一页</span><br><span class="line">private int prePage;</span><br><span class="line"> </span><br><span class="line">//是否为第一页</span><br><span class="line">private boolean isFirstPage = false;</span><br><span class="line"> </span><br><span class="line">//是否为最后一页</span><br><span class="line">private boolean isLastPage = false;</span><br><span class="line"> </span><br><span class="line">//是否有前一页</span><br><span class="line">private boolean hasPreviousPage = false;</span><br><span class="line"> </span><br><span class="line">//是否有下一页</span><br><span class="line">private boolean hasNextPage = false;</span><br><span class="line"> </span><br><span class="line">//导航页码数</span><br><span class="line">private int navigatePages;</span><br><span class="line"> </span><br><span class="line">//所有导航页号</span><br><span class="line">private int[] navigatepageNums;</span><br></pre></td></tr></table></figure><h3 id="View层-JSP"><a href="#View层-JSP" class="headerlink" title="View层(JSP)"></a>View层(JSP)</h3><p>这里使用了<figure class="highlight plain"><figcaption><span>test</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">&lt;div class=&quot;&quot; style=&quot;position: fixed;left: 500px;top: 490px;&quot;&gt;</span><br><span class="line">              当前 $&#123;pageInfo.pageNum&#125; 页,总 $&#123;pageInfo.pages&#125; 页,总 $&#123;pageInfo.total&#125; 条记录</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;&quot; style=&quot;position: fixed;right: 500px;top: 460px;&quot;&gt;</span><br><span class="line">              &lt;nav aria-label=&quot;Page navigation&quot;&gt;</span><br><span class="line">                  &lt;ul class=&quot;pagination&quot;&gt;</span><br><span class="line">                      &lt;li&gt;&lt;a href=&quot;/main/toDepartmentList.html?pn=1&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                      &lt;c:if test=&quot;$&#123;pageInfo.hasPreviousPage&#125;&quot;&gt;</span><br><span class="line">                      &lt;li&gt;</span><br><span class="line">                          &lt;a href=&quot;/main/toDepartmentList.html?pn=$&#123;pageInfo.pageNum-1&#125;&quot; aria-label=&quot;Previous&quot;&gt;</span><br><span class="line">                              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;</span><br><span class="line">                          &lt;/a&gt;</span><br><span class="line">                      &lt;/li&gt;</span><br><span class="line">                      &lt;/c:if&gt;</span><br><span class="line">                      &lt;c:forEach items=&quot;$&#123;pageInfo.navigatepageNums&#125;&quot; var=&quot;pagenum&quot;&gt;</span><br><span class="line">                            &lt;c:if test=&quot;$&#123;pagenum == pageInfo.pageNum&#125;&quot;&gt;</span><br><span class="line">                                &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;/main/toDepartmentList.html?pn=$&#123;pagenum&#125;&quot;&gt;$&#123;pagenum&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                            &lt;/c:if&gt;</span><br><span class="line">                            &lt;c:if test=&quot;$&#123;pagenum != pageInfo.pageNum&#125;&quot;&gt;</span><br><span class="line">                                &lt;li&gt;&lt;a href=&quot;/main/toDepartmentList.html?pn=$&#123;pagenum&#125;&quot;&gt;$&#123;pagenum&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                            &lt;/c:if&gt;</span><br><span class="line">                      &lt;/c:forEach&gt;</span><br><span class="line">                      &lt;c:if test=&quot;$&#123;pageInfo.hasNextPage&#125;&quot;&gt;</span><br><span class="line">                          &lt;li&gt;</span><br><span class="line">                              &lt;a href=&quot;/main/toDepartmentList.html?pn=$&#123;pageInfo.pageNum+1&#125;&quot; aria-label=&quot;Next&quot;&gt;</span><br><span class="line">                                  &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;</span><br><span class="line">                              &lt;/a&gt;</span><br><span class="line">                          &lt;/li&gt;</span><br><span class="line">                          &lt;li&gt;&lt;a href=&quot;/main/toDepartmentList.html?pn=$&#123;pageInfo.pages&#125;&quot;&gt;末页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                      &lt;/c:if&gt;</span><br><span class="line">                  &lt;/ul&gt;</span><br><span class="line">              &lt;/nav&gt;</span><br><span class="line">          &lt;/div&gt;</span><br></pre></td></tr></table></figure></p><h1 id="demo截图"><a href="#demo截图" class="headerlink" title="demo截图"></a>demo截图</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/17/ZOuKRP.jpg" alt="ZOuKRP.jpg" title>                </div>                <div class="image-caption">ZOuKRP.jpg</div>            </figure><h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>第一次写笔记,感觉自己还是做的很不够,思路不够清晰,写的不太好也写的太慢…</p><p>希望自己能够在以后写的越来越好.</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/17/ZOM3Nj.jpg" alt="可爱的猫猫" title>                </div>                <div class="image-caption">可爱的猫猫</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
      <category term="java" scheme="http://yoursite.com/categories/study/java/"/>
    
    
      <category term="Mybatis" scheme="http://yoursite.com/tags/Mybatis/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客备份</title>
    <link href="http://yoursite.com/2019/07/17/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD/"/>
    <id>http://yoursite.com/2019/07/17/Hexo博客备份/</id>
    <published>2019-07-17T03:49:15.000Z</published>
    <updated>2019-08-04T12:45:10.217Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="关于hexo博客备份"><a href="#关于hexo博客备份" class="headerlink" title="关于hexo博客备份"></a>关于hexo博客备份</h2><p>使用 Hexo 在 GitHub Pages 搭建博客时，博客作为一个单独的 GitHub 仓库存在，但是这个仓库只有生成的静态网页文件，并没有 Hexo 的源文件。这样一来换电脑或者重装系统后，再想找回源文件就比较麻烦了，这里推荐一种比较完美的方法解决备份问题。</p><h1 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h1><ol><li>创建仓库 WincerChan.github.io，如果同名仓库之前已经创建，请将之前的仓库改名新建的仓库必须是 Username.github.io（如果你是将 Hexo 博客部署到了自己的服务器，那么仓库名可以随意设置，我这里就是随意设置的仓库）</li><li>创建两个分支：master 和 hexo；</li><li>设置 hexo 为默认分支</li><li>将刚刚创建的新仓库 clone 至本地，将之前的 hexo 文件夹中的 _config.yml、themes/、source/、scaffolds/、package.json 和 .gitignore 复制至 WincerChan.github.io 文件夹</li><li>将 themes/next/（我用的是 NexT 主题）中的 .git/ 删除，否则无法将主题文件夹 push（也可以将主题文件夹使用子模块的方式添加到该仓库)</li><li>在 WincerChan.github.io 文件夹执行 npm install 和 npm install hexo-deployer-git（这里可以看一看分支是不是显示为 hexo）</li><li>执行 git add、git commit -m “”、git push origin hexo 来提交 hexo 网站源文件；</li><li>执行 hexo g -d 生成静态网页部署至 Github 上</li></ol><h1 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h1><ol><li>依次执行 git add、git commit -m “” 和 git push origin hexo 来提交 hexo 网站源文件</li><li>执行 hexo g -d 生成静态网页部署至 Github 上</li></ol><h1 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h1><ol><li>安装 git</li><li>安装Nodejs和npm</li><li>使用 git clone git#github.com:WincerChan/WincerChan.github.io.git 将仓库拷贝至本地</li><li>在文件夹内执行以下命令 npm install hexo-cli -g、npm install、npm install hexo-deployer-git</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git basic command</title>
    <link href="http://yoursite.com/2019/07/17/git-basic-command/"/>
    <id>http://yoursite.com/2019/07/17/git-basic-command/</id>
    <published>2019-07-17T02:59:21.000Z</published>
    <updated>2019-07-18T03:08:59.552Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>###Git 基本命令</p><hr><h4 id="git-init-命令把这个目录变成Git可以管理的仓库"><a href="#git-init-命令把这个目录变成Git可以管理的仓库" class="headerlink" title="git init (命令把这个目录变成Git可以管理的仓库)"></a><strong>git init</strong> (命令把这个目录变成Git可以管理的仓库)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository in /Users/michael/learngit/.git/</span><br></pre></td></tr></table></figure><h4 id="git-add-将文件添加到仓库"><a href="#git-add-将文件添加到仓库" class="headerlink" title="git add (将文件添加到仓库)"></a><strong>git add</strong> (将文件添加到仓库)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add readme.txt</span><br></pre></td></tr></table></figure><h4 id="git-commit-将文件提交到仓库"><a href="#git-commit-将文件提交到仓库" class="headerlink" title="git commit (将文件提交到仓库)"></a><strong>git commit</strong> (将文件提交到仓库)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;wrote a readme file&quot;</span><br><span class="line">[master (root-commit) eaadf4e] wrote a readme file</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 readme.txt</span><br></pre></td></tr></table></figure><p>(这里git commit -m “这里是添加本次提交的说明”<br>git add 是可以添加多个文件,而git commit是可以一次提交多个的)</p><h4 id="git-status-查看当前仓库的状态"><a href="#git-status-查看当前仓库的状态" class="headerlink" title="git status (查看当前仓库的状态)"></a><strong>git status</strong> (查看当前仓库的状态)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">modified:   readme.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure><p>(这里表示readme.txt是已经修改了,但是还没有提交修改)</p><h4 id="git-diff-查看不同-difference"><a href="#git-diff-查看不同-difference" class="headerlink" title="git diff (查看不同(difference))"></a><strong>git diff</strong> (查看不同(difference))</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff readme.txt </span><br><span class="line">diff --git a/readme.txt b/readme.txt</span><br><span class="line">index 46d49bf..9247db6 100644</span><br><span class="line">--- a/readme.txt</span><br><span class="line">+++ b/readme.txt</span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line">-Git is a version control system.</span><br><span class="line">+Git is a distributed version control system.</span><br><span class="line"> Git is free software.</span><br></pre></td></tr></table></figure><h4 id="git-log-命令显示从最近到最远的提交日志"><a href="#git-log-命令显示从最近到最远的提交日志" class="headerlink" title="git log (命令显示从最近到最远的提交日志)"></a><strong>git log</strong> (命令显示从最近到最远的提交日志)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br><span class="line">commit 1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master)</span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line">Date:   Fri May 18 21:06:15 2018 +0800</span><br><span class="line"></span><br><span class="line">    append GPL</span><br><span class="line"></span><br><span class="line">commit e475afc93c209a690c39c13a46716e8fa000c366</span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line">Date:   Fri May 18 21:03:36 2018 +0800</span><br><span class="line"></span><br><span class="line">    add distributed</span><br><span class="line"></span><br><span class="line">commit eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0</span><br><span class="line">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line">Date:   Fri May 18 20:59:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br></pre></td></tr></table></figure><p>(如果嫌输出信息太多，看得眼花缭乱的，可以试试加上–pretty=oneline参数：)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty=oneline</span><br><span class="line">1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master) append GPL</span><br><span class="line">e475afc93c209a690c39c13a46716e8fa000c366 add distributed</span><br><span class="line">eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0 wrote a readme file</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="study" scheme="http://yoursite.com/categories/study/"/>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2019/06/25/hello-world/"/>
    <id>http://yoursite.com/2019/06/25/hello-world/</id>
    <published>2019-06-25T03:36:04.338Z</published>
    <updated>2019-07-17T02:55:04.711Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
  </entry>
  
</feed>
